webpackJsonp([27],{"8RPj":function(t,e,a){(t.exports=a("bKW+")(!1)).push([t.i,"\n.control-board[data-v-037aad1e] {\n  margin: 20px 20px 36px 20px;\n}\n.control-board .header-content[data-v-037aad1e] {\n    padding: 30px 0;\n}\n.control-board .header-content .el-input[data-v-037aad1e] {\n      width: 180px;\n}\n.control-board .header-content span[data-v-037aad1e] {\n      font-size: 14px;\n      color: #101010;\n}\n.control-board .header-content span.pl25[data-v-037aad1e] {\n        padding-left: 25px;\n}\n.control-board .header-content .button[data-v-037aad1e] {\n      margin-left: 25px;\n}\n.control-board .toolbar[data-v-037aad1e] {\n    margin-bottom: 20px;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.control-board .toolbar .detail-btn[data-v-037aad1e] {\n      width: 80px;\n      -webkit-box-flex: 0;\n          -ms-flex: 0 0 80px;\n              flex: 0 0 80px;\n}\n",""])},YBQJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Edqs"),i=a.n(n),o=a("0qgA"),s=a("viA7"),l={data:function(){return{listLoading:!0,list:null,total:null,listQuery:{page:1,limit:5,title:void 0,order_number:""},tableKey:0,form:{id:"",order_number:"",company:"",status:""},formLabelWidth:"80px",dialogFormVisible:!1,disabled:!1,editLoading:!1,title:"",rules:{order_number:[{required:!0,message:"请输入订单名",trigger:"blur"}],company:[{required:!0,message:"请输入company名",trigger:"blur"}],status:[{required:!0,message:"请输入status",trigger:"change"}]},showStatus:{success:"到港可提",pending:"运输中",reject:"北港收购"},columns:[{label:"id",prop:"id"},{label:"合同号",prop:"order_number"},{label:"卖方企业",prop:"company"}],options:[{value:"success",label:"到港可提"},{value:"pending",label:"运输中"},{value:"reject",label:"北港收购"}],value:"",sels:[]}},created:function(){this.getList()},computed:{placeholder:function(){return"reject"===this.form.status?this.showStatus.reject:"pending"===this.form.status?this.showStatus.pending:this.showStatus.success}},methods:{getList:function(){var t=this;this.listLoading=!0,Object(s.e)(this.listQuery).then(function(e){t.list=e.data.items,t.total=e.data.total,t.listLoading=!1})},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()},handleFilter:function(){this.listQuery.page=1,this.getList()},cancel:function(){this.$refs.ruleForm.resetFields(),this.dialogFormVisible=!1},handleDetail:function(t,e){this.title="详情",this.dialogFormVisible=!0,this.form=i()({},e),this.disabled=!0},handleUpdate:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error"),!1;t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=i()({},t.form);console.log(e),Object(s.d)(e).then(function(e){t.editLoading=!1,t.$message({message:"提交成功",type:"success"}),t.dialogFormVisible=!1,t.$refs.ruleForm.resetFields(),t.getList()})})})},handleDel:function(t,e){var a=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){a.listLoading=!0;var t={id:e.id};Object(s.c)(t).then(function(t){a.listLoading=!1,a.$message({message:"删除成功",type:"success"}),a.getList()})}).catch(function(){return!1})},handleEdit:function(t,e){this.title="编辑",this.disabled=!1,this.dialogFormVisible=!0,this.form=i()({},e)},handleAdd:function(){this.form={},this.dialogFormVisible=!0,this.title="新增",this.disabled=!1},addSubmit:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return console.log("error"),!1;t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=i()({},t.form);Object(s.a)(e).then(function(e){t.editLoading=!1,t.$message({message:"提交成功",type:"success"}),t.getList(),t.dialogFormVisible=!1})})})},selectChange:function(t){this.sels=t},batchRemove:function(){var t=this,e=this.sels.map(function(t){return t.id}).join();this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){t.listLoading=!0;var a={ids:e};Object(s.b)(a).then(function(e){t.listLoading=!1,console.log(e),t.$message({message:"删除成功",type:"success"}),t.getList()})}).catch(function(){})}},components:{myTable:o.a}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-board"},[a("my-table",{attrs:{tableData:t.list,showDetail:!0,columns:t.columns,showStatus:t.showStatus,showMarkNumber:null,border:"",fit:"","highlight-current-row":""},on:{handleDel:t.handleDel,handleEdit:t.handleEdit,handleDetail:t.handleDetail,selectChange:t.selectChange}},[a("div",{staticClass:"header-content",attrs:{slot:"header-content"},slot:"header-content"},[a("span",[t._v("合同号：")]),t._v(" "),a("el-input",{attrs:{clearable:"true",placeholder:"请输入内容"},model:{value:t.listQuery.order_number,callback:function(e){t.$set(t.listQuery,"order_number","string"==typeof e?e.trim():e)},expression:"listQuery.order_number"}}),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新增")])],1)]),t._v(" "),a("div",{staticClass:"toolbar"},[a("el-button",{staticClass:"detail-btn",attrs:{type:"danger",size:"mini",disabled:0===this.sels.length},on:{click:t.batchRemove}},[t._v("批量删除")]),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.listQuery.page,"page-sizes":[5,10,20],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"page",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"30%",title:t.title,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"合同号","label-width":t.formLabelWidth,prop:"order_number"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.disabled},model:{value:t.form.order_number,callback:function(e){t.$set(t.form,"order_number",e)},expression:"form.order_number"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"卖方企业","label-width":t.formLabelWidth,prop:"company"}},[a("el-input",{attrs:{"auto-complete":"off",disabled:t.disabled},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":t.formLabelWidth,prop:"status"}},[a("el-select",{attrs:{placeholder:"状态",disabled:t.disabled},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),"详情"===t.title?a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.cancel(e)}}},[t._v("确 定")]):t._e(),t._v(" "),"编辑"===t.title?a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.handleUpdate(e)}}},[t._v("确 定\n\n      ")]):t._e(),t._v(" "),"新增"===t.title?a("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.addSubmit(e)}}},[t._v("确 定\n\n      ")]):t._e()],1)],1)],1)},staticRenderFns:[]};var d=a("XAIM")(l,r,!1,function(t){a("eu1o")},"data-v-037aad1e",null);e.default=d.exports},eu1o:function(t,e,a){var n=a("8RPj");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("6imX")("4ea9e488",n,!0)}});